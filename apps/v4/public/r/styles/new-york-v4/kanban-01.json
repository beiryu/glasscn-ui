{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "kanban-01",
  "description": "A Kanban board with drag and drop functionality for task management.",
  "dependencies": [
    "@dnd-kit/core",
    "@dnd-kit/sortable",
    "@dnd-kit/utilities"
  ],
  "registryDependencies": [
    "card",
    "button",
    "dropdown-menu",
    "input"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/kanban-01/page.tsx",
      "content": "import { KanbanBoard } from \"./components/kanban-board\"\n\nexport default function Page() {\n  return (\n    <div className=\"flex min-h-screen w-full items-start justify-center p-6 md:p-10\">\n      <div className=\"w-full max-w-7xl\">\n        <div className=\"mb-6\">\n          <h1 className=\"mb-2 text-2xl font-bold\">Kanban Board</h1>\n          <p className=\"text-muted-foreground\">\n            Drag and drop tasks between columns to organize your workflow\n          </p>\n        </div>\n        <KanbanBoard />\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/kanban/page.tsx"
    },
    {
      "path": "registry/new-york-v4/blocks/kanban-01/components/kanban-board.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport {\n  DndContext,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  type DragEndEvent,\n  type DragOverEvent,\n  type DragStartEvent,\n} from \"@dnd-kit/core\"\nimport {\n  SortableContext,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\nimport {\n  Calendar,\n  GripVertical,\n  Hash,\n  MoreVertical,\n  Plus,\n  User,\n} from \"lucide-react\"\n\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/registry/new-york-v4/ui/dropdown-menu\"\nimport { Input } from \"@/registry/new-york-v4/ui/input\"\n\ntype Task = {\n  id: string\n  title: string\n  assigned?: string\n  platform?: string\n  dueDate?: string\n  progress?: number // 0-4 (number of completed dots out of 4)\n}\n\ntype Column = {\n  id: string\n  title: string\n  tasks: Task[]\n}\n\nconst initialColumns: Column[] = [\n  {\n    id: \"todo\",\n    title: \"To Do\",\n    tasks: [\n      {\n        id: \"1\",\n        title: \"Create Instagram Template\",\n        assigned: \"Assigned\",\n        platform: \"Instagram\",\n        dueDate: \"Due in 3 days\",\n        progress: 3,\n      },\n      {\n        id: \"2\",\n        title: \"Design Facebook Ad\",\n        assigned: \"Assigned\",\n        platform: \"Facebook\",\n        dueDate: \"Due in 5 days\",\n        progress: 2,\n      },\n    ],\n  },\n  {\n    id: \"in-progress\",\n    title: \"In Progress\",\n    tasks: [\n      {\n        id: \"3\",\n        title: \"Create YouTube Thumbnail\",\n        assigned: \"Assigned\",\n        platform: \"YouTube\",\n        dueDate: \"Due in 2 days\",\n        progress: 4,\n      },\n    ],\n  },\n  {\n    id: \"done\",\n    title: \"Done\",\n    tasks: [\n      {\n        id: \"4\",\n        title: \"Setup TikTok Campaign\",\n        assigned: \"Assigned\",\n        platform: \"TikTok\",\n        dueDate: \"Completed\",\n        progress: 4,\n      },\n      {\n        id: \"5\",\n        title: \"Create LinkedIn Post\",\n        assigned: \"Assigned\",\n        platform: \"LinkedIn\",\n        dueDate: \"Completed\",\n        progress: 4,\n      },\n    ],\n  },\n]\n\nfunction TaskCard({ task, columnId }: { task: Task; columnId: string }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: task.id })\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  }\n\n  const progress = task.progress ?? 0\n\n  // Get gradient color based on column/status\n  const getGradientColor = (columnId: string) => {\n    switch (columnId) {\n      case \"todo\":\n        return \"linear-gradient(180deg, #ef4444, transparent)\" // Red\n      case \"in-progress\":\n        return \"linear-gradient(180deg, #eab308, transparent)\" // Yellow\n      case \"done\":\n        return \"linear-gradient(180deg, #22c55e, transparent)\" // Green\n      default:\n        return \"linear-gradient(180deg, #ef4444, transparent)\" // Default to red\n    }\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className=\"group bg-card relative box-border flex w-[294px] flex-col items-start rounded-[15px] border\"\n    >\n      {/* Gradient Header */}\n      <div\n        className=\"relative h-[18px] w-full rounded-t-[15px] rounded-b-none\"\n        style={{\n          background: getGradientColor(columnId),\n        }}\n      />\n\n      {/* Content */}\n      <div className=\"flex w-full flex-col items-start gap-3 px-4 pb-4\">\n        {/* Title Section */}\n        <div className=\"flex w-full flex-col items-start\">\n          <div className=\"flex items-center gap-2 opacity-80\">\n            <button\n              {...attributes}\n              {...listeners}\n              className=\"text-muted-foreground hover:text-foreground relative flex h-5 w-5 cursor-grab items-center justify-center transition-colors active:cursor-grabbing\"\n            >\n              <GripVertical className=\"h-4 w-4\" />\n            </button>\n            <div className=\"text-foreground relative text-base leading-[150%] font-medium tracking-[-0.02em]\">\n              {task.title}\n            </div>\n          </div>\n        </div>\n\n        {/* Separator */}\n        <div className=\"bg-border relative h-px w-full max-w-full overflow-hidden\" />\n\n        {/* Metadata Section */}\n        <div className=\"flex w-full flex-col items-start gap-1.5 text-sm\">\n          {task.assigned && (\n            <div className=\"flex h-6 w-full items-center gap-2 text-[#1e90ff]\">\n              <User className=\"h-3.5 w-3.5\" />\n              <div className=\"relative leading-[18px] font-medium tracking-[-0.02em]\">\n                {task.assigned}\n              </div>\n            </div>\n          )}\n          {task.platform && (\n            <div className=\"flex h-6 w-full items-center gap-2 text-[#ff1493]\">\n              <Hash className=\"h-3.5 w-3.5\" />\n              <div className=\"relative leading-[18px] font-medium tracking-[-0.02em]\">\n                {task.platform}\n              </div>\n            </div>\n          )}\n          {task.dueDate && (\n            <div className=\"flex h-6 w-full items-center justify-between gap-5 text-[#dc143c]\">\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"h-3.5 w-3.5\" />\n                <div className=\"relative leading-[18px] font-medium tracking-[-0.02em]\">\n                  {task.dueDate}\n                </div>\n              </div>\n              {/* Progress Dots */}\n              <div className=\"flex items-center gap-[5px]\">\n                {[0, 1, 2, 3].map((index) => (\n                  <div\n                    key={index}\n                    className={`relative h-2 w-2 rounded-full ${\n                      index < progress\n                        ? \"bg-[#ff7f50]\"\n                        : \"bg-[#ff7f50] opacity-25\"\n                    }`}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction KanbanColumn({ column }: { column: Column }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: column.id })\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  }\n\n  const [isAddingTask, setIsAddingTask] = React.useState(false)\n  const [newTaskTitle, setNewTaskTitle] = React.useState(\"\")\n\n  const taskIds = React.useMemo(\n    () => column.tasks.map((task) => task.id),\n    [column.tasks]\n  )\n\n  const handleAddTask = () => {\n    if (newTaskTitle.trim()) {\n      // In a real app, you would add the task to the column here\n      console.log(\"Adding task:\", newTaskTitle)\n      setNewTaskTitle(\"\")\n      setIsAddingTask(false)\n    }\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className=\"flex h-full min-h-[600px] flex-col\"\n    >\n      <div className=\"mb-4 flex items-center justify-between\">\n        <h3 className=\"text-muted-foreground text-sm font-semibold tracking-wide uppercase\">\n          {column.title}\n        </h3>\n        <span className=\"text-muted-foreground bg-muted rounded-full px-2 py-1 text-xs\">\n          {column.tasks.length}\n        </span>\n      </div>\n      <SortableContext items={taskIds} strategy={verticalListSortingStrategy}>\n        <div className=\"min-h-[200px] flex-1 space-y-3 overflow-y-auto pb-4\">\n          {column.tasks.map((task) => (\n            <TaskCard key={task.id} task={task} columnId={column.id} />\n          ))}\n          {isAddingTask && (\n            <div className=\"bg-card relative box-border flex w-[294px] flex-col items-start rounded-[15px] border p-3\">\n              <Input\n                placeholder=\"Task title...\"\n                value={newTaskTitle}\n                onChange={(e) => setNewTaskTitle(e.target.value)}\n                onKeyDown={(e) => {\n                  if (e.key === \"Enter\") {\n                    handleAddTask()\n                  } else if (e.key === \"Escape\") {\n                    setIsAddingTask(false)\n                    setNewTaskTitle(\"\")\n                  }\n                }}\n                autoFocus\n                className=\"mb-2\"\n              />\n              <div className=\"flex gap-2\">\n                <Button size=\"sm\" onClick={handleAddTask}>\n                  Add\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"ghost\"\n                  onClick={() => {\n                    setIsAddingTask(false)\n                    setNewTaskTitle(\"\")\n                  }}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </SortableContext>\n      {!isAddingTask && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-muted-foreground hover:text-foreground mt-3 justify-start\"\n          onClick={() => setIsAddingTask(true)}\n        >\n          <Plus className=\"mr-2 h-4 w-4\" />\n          Add task\n        </Button>\n      )}\n    </div>\n  )\n}\n\nexport function KanbanBoard() {\n  const [columns, setColumns] = React.useState(initialColumns)\n  const [activeId, setActiveId] = React.useState<string | null>(null)\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  )\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string)\n  }\n\n  const handleDragOver = (event: DragOverEvent) => {\n    const { active, over } = event\n    if (!over) return\n\n    const activeId = active.id as string\n    const overId = over.id as string\n\n    // Find the columns and tasks\n    const activeColumn = columns.find((col) =>\n      col.tasks.some((task) => task.id === activeId)\n    )\n    const overColumn =\n      columns.find((col) => col.tasks.some((task) => task.id === overId)) ||\n      columns.find((col) => col.id === overId)\n\n    if (!activeColumn || !overColumn) return\n    if (activeColumn.id === overColumn.id) return\n\n    setColumns((columns) => {\n      const activeTask = activeColumn.tasks.find((task) => task.id === activeId)\n      if (!activeTask) return columns\n\n      return columns.map((col) => {\n        if (col.id === activeColumn.id) {\n          return {\n            ...col,\n            tasks: col.tasks.filter((task) => task.id !== activeId),\n          }\n        }\n        if (col.id === overColumn.id) {\n          return {\n            ...col,\n            tasks: [...col.tasks, activeTask],\n          }\n        }\n        return col\n      })\n    })\n  }\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n    setActiveId(null)\n\n    if (!over) return\n\n    const activeId = active.id as string\n    const overId = over.id as string\n\n    // Handle reordering within the same column\n    const activeColumn = columns.find((col) =>\n      col.tasks.some((task) => task.id === activeId)\n    )\n    const overColumn =\n      columns.find((col) => col.tasks.some((task) => task.id === overId)) ||\n      columns.find((col) => col.id === overId)\n\n    if (!activeColumn || !overColumn) return\n\n    if (activeColumn.id === overColumn.id) {\n      // Reorder within same column\n      const activeIndex = activeColumn.tasks.findIndex(\n        (task) => task.id === activeId\n      )\n      const overIndex = overColumn.tasks.findIndex((task) => task.id === overId)\n\n      if (activeIndex !== overIndex) {\n        setColumns((columns) =>\n          columns.map((col) => {\n            if (col.id === activeColumn.id) {\n              const newTasks = [...col.tasks]\n              const [removed] = newTasks.splice(activeIndex, 1)\n              newTasks.splice(overIndex, 0, removed)\n              return { ...col, tasks: newTasks }\n            }\n            return col\n          })\n        )\n      }\n    }\n  }\n\n  return (\n    <div className=\"h-full w-full\">\n      <DndContext\n        sensors={sensors}\n        onDragStart={handleDragStart}\n        onDragOver={handleDragOver}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"grid h-full grid-cols-1 gap-6 md:grid-cols-3\">\n          {columns.map((column) => (\n            <KanbanColumn key={column.id} column={column} />\n          ))}\n        </div>\n      </DndContext>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "iframeHeight": "800px"
  },
  "categories": [
    "dashboard"
  ],
  "type": "registry:block"
}