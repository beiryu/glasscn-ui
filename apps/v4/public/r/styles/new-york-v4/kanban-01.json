{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "kanban-01",
  "description": "A Kanban board with drag and drop functionality for task management.",
  "dependencies": [
    "@dnd-kit/core",
    "@dnd-kit/sortable",
    "@dnd-kit/utilities"
  ],
  "registryDependencies": [
    "card",
    "button",
    "dropdown-menu",
    "input"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/blocks/kanban-01/page.tsx",
      "content": "import { KanbanBoard } from \"./components/kanban-board\"\n\nexport default function Page() {\n  return (\n    <div className=\"flex min-h-screen w-full items-start justify-center p-6 md:p-10\">\n      <div className=\"w-full max-w-7xl\">\n        <div className=\"mb-6\">\n          <h1 className=\"mb-2 text-2xl font-bold\">Kanban Board</h1>\n          <p className=\"text-muted-foreground\">\n            Drag and drop tasks between columns to organize your workflow\n          </p>\n        </div>\n        <KanbanBoard />\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/kanban/page.tsx"
    },
    {
      "path": "registry/new-york-v4/blocks/kanban-01/components/kanban-board.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverEvent,\n  DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\"\nimport {\n  SortableContext,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\nimport { GripVertical, MoreVertical, Plus } from \"lucide-react\"\n\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\nimport { Card } from \"@/registry/new-york-v4/ui/card\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/registry/new-york-v4/ui/dropdown-menu\"\nimport { Input } from \"@/registry/new-york-v4/ui/input\"\n\ntype Task = {\n  id: string\n  title: string\n  description?: string\n  priority?: \"low\" | \"medium\" | \"high\"\n}\n\ntype Column = {\n  id: string\n  title: string\n  tasks: Task[]\n}\n\nconst initialColumns: Column[] = [\n  {\n    id: \"todo\",\n    title: \"To Do\",\n    tasks: [\n      {\n        id: \"1\",\n        title: \"Design new landing page\",\n        description: \"Create mockups for the new landing page design\",\n        priority: \"high\",\n      },\n      {\n        id: \"2\",\n        title: \"Update documentation\",\n        description: \"Review and update API documentation\",\n        priority: \"medium\",\n      },\n    ],\n  },\n  {\n    id: \"in-progress\",\n    title: \"In Progress\",\n    tasks: [\n      {\n        id: \"3\",\n        title: \"Implement user authentication\",\n        description: \"Add login and signup functionality\",\n        priority: \"high\",\n      },\n    ],\n  },\n  {\n    id: \"done\",\n    title: \"Done\",\n    tasks: [\n      {\n        id: \"4\",\n        title: \"Setup project structure\",\n        description: \"Initialize Next.js project with TypeScript\",\n        priority: \"low\",\n      },\n      {\n        id: \"5\",\n        title: \"Configure CI/CD pipeline\",\n        description: \"Setup GitHub Actions for deployment\",\n        priority: \"medium\",\n      },\n    ],\n  },\n]\n\nfunction TaskCard({ task }: { task: Task }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: task.id })\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  }\n\n  const priorityColors = {\n    low: \"bg-blue-500/10 text-blue-500 border-blue-500/20\",\n    medium: \"bg-yellow-500/10 text-yellow-500 border-yellow-500/20\",\n    high: \"bg-red-500/10 text-red-500 border-red-500/20\",\n  }\n\n  return (\n    <Card\n      ref={setNodeRef}\n      style={style}\n      className=\"group cursor-grab !p-4 !py-4 transition-shadow hover:shadow-md active:cursor-grabbing\"\n    >\n      <div className=\"flex items-start justify-between gap-2\">\n        <div className=\"min-w-0 flex-1\">\n          <div className=\"mb-2 flex items-center gap-2\">\n            <button\n              {...attributes}\n              {...listeners}\n              className=\"text-muted-foreground hover:text-foreground cursor-grab transition-colors active:cursor-grabbing\"\n            >\n              <GripVertical className=\"h-4 w-4\" />\n            </button>\n            <h4 className=\"text-sm leading-tight font-semibold\">\n              {task.title}\n            </h4>\n          </div>\n          {task.description && (\n            <p className=\"text-muted-foreground mb-2 line-clamp-2 text-xs\">\n              {task.description}\n            </p>\n          )}\n          {task.priority && (\n            <div\n              className={`inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium ${priorityColors[task.priority]}`}\n            >\n              {task.priority}\n            </div>\n          )}\n        </div>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-6 w-6 opacity-0 transition-opacity group-hover:opacity-100\"\n            >\n              <MoreVertical className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem>Edit</DropdownMenuItem>\n            <DropdownMenuItem>Duplicate</DropdownMenuItem>\n            <DropdownMenuItem className=\"text-destructive\">\n              Delete\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </Card>\n  )\n}\n\nfunction KanbanColumn({ column }: { column: Column }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: column.id })\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  }\n\n  const [isAddingTask, setIsAddingTask] = React.useState(false)\n  const [newTaskTitle, setNewTaskTitle] = React.useState(\"\")\n\n  const taskIds = React.useMemo(\n    () => column.tasks.map((task) => task.id),\n    [column.tasks]\n  )\n\n  const handleAddTask = () => {\n    if (newTaskTitle.trim()) {\n      // In a real app, you would add the task to the column here\n      console.log(\"Adding task:\", newTaskTitle)\n      setNewTaskTitle(\"\")\n      setIsAddingTask(false)\n    }\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className=\"flex h-full min-h-[600px] flex-col\"\n    >\n      <div className=\"mb-4 flex items-center justify-between\">\n        <h3 className=\"text-muted-foreground text-sm font-semibold tracking-wide uppercase\">\n          {column.title}\n        </h3>\n        <span className=\"text-muted-foreground bg-muted rounded-full px-2 py-1 text-xs\">\n          {column.tasks.length}\n        </span>\n      </div>\n      <SortableContext items={taskIds} strategy={verticalListSortingStrategy}>\n        <div className=\"min-h-[200px] flex-1 space-y-3 overflow-y-auto pb-4\">\n          {column.tasks.map((task) => (\n            <TaskCard key={task.id} task={task} />\n          ))}\n          {isAddingTask && (\n            <Card className=\"!p-3 !py-3\">\n              <Input\n                placeholder=\"Task title...\"\n                value={newTaskTitle}\n                onChange={(e) => setNewTaskTitle(e.target.value)}\n                onKeyDown={(e) => {\n                  if (e.key === \"Enter\") {\n                    handleAddTask()\n                  } else if (e.key === \"Escape\") {\n                    setIsAddingTask(false)\n                    setNewTaskTitle(\"\")\n                  }\n                }}\n                autoFocus\n                className=\"mb-2\"\n              />\n              <div className=\"flex gap-2\">\n                <Button size=\"sm\" onClick={handleAddTask}>\n                  Add\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"ghost\"\n                  onClick={() => {\n                    setIsAddingTask(false)\n                    setNewTaskTitle(\"\")\n                  }}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </Card>\n          )}\n        </div>\n      </SortableContext>\n      {!isAddingTask && (\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"text-muted-foreground hover:text-foreground mt-3 justify-start\"\n          onClick={() => setIsAddingTask(true)}\n        >\n          <Plus className=\"mr-2 h-4 w-4\" />\n          Add task\n        </Button>\n      )}\n    </div>\n  )\n}\n\nexport function KanbanBoard() {\n  const [columns, setColumns] = React.useState(initialColumns)\n  const [activeId, setActiveId] = React.useState<string | null>(null)\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  )\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string)\n  }\n\n  const handleDragOver = (event: DragOverEvent) => {\n    const { active, over } = event\n    if (!over) return\n\n    const activeId = active.id as string\n    const overId = over.id as string\n\n    // Find the columns and tasks\n    const activeColumn = columns.find((col) =>\n      col.tasks.some((task) => task.id === activeId)\n    )\n    const overColumn =\n      columns.find((col) => col.tasks.some((task) => task.id === overId)) ||\n      columns.find((col) => col.id === overId)\n\n    if (!activeColumn || !overColumn) return\n    if (activeColumn.id === overColumn.id) return\n\n    setColumns((columns) => {\n      const activeTask = activeColumn.tasks.find((task) => task.id === activeId)\n      if (!activeTask) return columns\n\n      return columns.map((col) => {\n        if (col.id === activeColumn.id) {\n          return {\n            ...col,\n            tasks: col.tasks.filter((task) => task.id !== activeId),\n          }\n        }\n        if (col.id === overColumn.id) {\n          return {\n            ...col,\n            tasks: [...col.tasks, activeTask],\n          }\n        }\n        return col\n      })\n    })\n  }\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n    setActiveId(null)\n\n    if (!over) return\n\n    const activeId = active.id as string\n    const overId = over.id as string\n\n    // Handle reordering within the same column\n    const activeColumn = columns.find((col) =>\n      col.tasks.some((task) => task.id === activeId)\n    )\n    const overColumn =\n      columns.find((col) => col.tasks.some((task) => task.id === overId)) ||\n      columns.find((col) => col.id === overId)\n\n    if (!activeColumn || !overColumn) return\n\n    if (activeColumn.id === overColumn.id) {\n      // Reorder within same column\n      const activeIndex = activeColumn.tasks.findIndex(\n        (task) => task.id === activeId\n      )\n      const overIndex = overColumn.tasks.findIndex((task) => task.id === overId)\n\n      if (activeIndex !== overIndex) {\n        setColumns((columns) =>\n          columns.map((col) => {\n            if (col.id === activeColumn.id) {\n              const newTasks = [...col.tasks]\n              const [removed] = newTasks.splice(activeIndex, 1)\n              newTasks.splice(overIndex, 0, removed)\n              return { ...col, tasks: newTasks }\n            }\n            return col\n          })\n        )\n      }\n    }\n  }\n\n  return (\n    <div className=\"h-full w-full\">\n      <DndContext\n        sensors={sensors}\n        onDragStart={handleDragStart}\n        onDragOver={handleDragOver}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"grid h-full grid-cols-1 gap-6 md:grid-cols-3\">\n          {columns.map((column) => (\n            <KanbanColumn key={column.id} column={column} />\n          ))}\n        </div>\n      </DndContext>\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "iframeHeight": "800px"
  },
  "categories": [
    "dashboard"
  ],
  "type": "registry:block"
}